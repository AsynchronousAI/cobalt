// Very short CLI wrapper for the preprocessor
// compile to executable using cobaltjit -b preprocessor.lua preprocessor.o


preprocessor = import("preprocessor") 

inputfile = arg[1]
inputcontents = io.open(inputfile)->read("*all")

io.write(preprocessor(inputcontents))